<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Events | MetaOS Docs</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/docs/favicon.ico">
    <link rel="manifest" href="/docs/manifest.json">
    <link rel="apple-touch-icon" href="/docs/icons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="/docs/icons/safari-pinned-tab.svg" color="#732ad2">
    <meta name="description" content="Developer documentation for the MetaOS">
    <meta name="theme-color" content="#732ad2">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    <link rel="preload" href="/docs/assets/css/0.styles.9f4aaddc.css" as="style"><link rel="preload" href="/docs/assets/js/app.8eec186a.js" as="script"><link rel="preload" href="/docs/assets/js/3.ef547447.js" as="script"><link rel="preload" href="/docs/assets/js/34.11971111.js" as="script"><link rel="preload" href="/docs/assets/js/4.543fae8f.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.8cef8d6b.js"><link rel="prefetch" href="/docs/assets/js/11.25fd7d6f.js"><link rel="prefetch" href="/docs/assets/js/12.98bd9ccc.js"><link rel="prefetch" href="/docs/assets/js/13.58bea21f.js"><link rel="prefetch" href="/docs/assets/js/14.4e1bc660.js"><link rel="prefetch" href="/docs/assets/js/15.82e017a7.js"><link rel="prefetch" href="/docs/assets/js/16.ede99731.js"><link rel="prefetch" href="/docs/assets/js/17.8af013a8.js"><link rel="prefetch" href="/docs/assets/js/18.f655b7f9.js"><link rel="prefetch" href="/docs/assets/js/19.36be0543.js"><link rel="prefetch" href="/docs/assets/js/20.39823d63.js"><link rel="prefetch" href="/docs/assets/js/21.6d92df81.js"><link rel="prefetch" href="/docs/assets/js/22.ec9760e0.js"><link rel="prefetch" href="/docs/assets/js/23.2a691bc4.js"><link rel="prefetch" href="/docs/assets/js/24.c03671b9.js"><link rel="prefetch" href="/docs/assets/js/25.0fbb5496.js"><link rel="prefetch" href="/docs/assets/js/26.c3a4e4b7.js"><link rel="prefetch" href="/docs/assets/js/27.a332de22.js"><link rel="prefetch" href="/docs/assets/js/28.40f2ab04.js"><link rel="prefetch" href="/docs/assets/js/29.8deefc30.js"><link rel="prefetch" href="/docs/assets/js/30.a5d7b07c.js"><link rel="prefetch" href="/docs/assets/js/31.be2aff5c.js"><link rel="prefetch" href="/docs/assets/js/32.b22e5d65.js"><link rel="prefetch" href="/docs/assets/js/33.09c60894.js"><link rel="prefetch" href="/docs/assets/js/35.3add035c.js"><link rel="prefetch" href="/docs/assets/js/36.90ed3117.js"><link rel="prefetch" href="/docs/assets/js/37.934d3e5d.js"><link rel="prefetch" href="/docs/assets/js/38.f8309a82.js"><link rel="prefetch" href="/docs/assets/js/39.f556ae9c.js"><link rel="prefetch" href="/docs/assets/js/40.e8d55a27.js"><link rel="prefetch" href="/docs/assets/js/41.c14af8b9.js"><link rel="prefetch" href="/docs/assets/js/42.b9e694f9.js"><link rel="prefetch" href="/docs/assets/js/43.155a141a.js"><link rel="prefetch" href="/docs/assets/js/44.f2f2495e.js"><link rel="prefetch" href="/docs/assets/js/45.57bcb2d7.js"><link rel="prefetch" href="/docs/assets/js/46.6a4b9ff9.js"><link rel="prefetch" href="/docs/assets/js/47.948f2a3c.js"><link rel="prefetch" href="/docs/assets/js/48.1daa61af.js"><link rel="prefetch" href="/docs/assets/js/49.51fd92db.js"><link rel="prefetch" href="/docs/assets/js/5.09ebcc9e.js"><link rel="prefetch" href="/docs/assets/js/50.4f295683.js"><link rel="prefetch" href="/docs/assets/js/51.c93adaab.js"><link rel="prefetch" href="/docs/assets/js/52.db172170.js"><link rel="prefetch" href="/docs/assets/js/53.af9d8f71.js"><link rel="prefetch" href="/docs/assets/js/54.8031e252.js"><link rel="prefetch" href="/docs/assets/js/55.4f6638fc.js"><link rel="prefetch" href="/docs/assets/js/56.a2a8d319.js"><link rel="prefetch" href="/docs/assets/js/57.11fbe5a7.js"><link rel="prefetch" href="/docs/assets/js/58.dee4adc2.js"><link rel="prefetch" href="/docs/assets/js/59.4cf30fc5.js"><link rel="prefetch" href="/docs/assets/js/6.53bd7877.js"><link rel="prefetch" href="/docs/assets/js/60.947e933e.js"><link rel="prefetch" href="/docs/assets/js/61.04f50cec.js"><link rel="prefetch" href="/docs/assets/js/62.b4a2133e.js"><link rel="prefetch" href="/docs/assets/js/63.84b58c65.js"><link rel="prefetch" href="/docs/assets/js/64.f82cfbce.js"><link rel="prefetch" href="/docs/assets/js/65.7d0a9885.js"><link rel="prefetch" href="/docs/assets/js/7.d74dec53.js"><link rel="prefetch" href="/docs/assets/js/8.f3c5c757.js"><link rel="prefetch" href="/docs/assets/js/9.1361b49a.js"><link rel="prefetch" href="/docs/assets/js/vendors~docsearch.f68603d6.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.9f4aaddc.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/en/" class="home-link router-link-active"><img src="/docs/favicon.ico" alt="MetaOS Docs" class="logo"> <span class="site-name can-hide">MetaOS Docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <a href="https://github.com/metaos-labs/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/metaos-labs/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>ABOUT MetaOS</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/en/" aria-current="page" class="sidebar-link">Introduction</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>For Web3 User</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>Basic Concepts</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/en/for_web3_user/transactions.html" class="sidebar-link">Transactions</a></li><li><a href="/docs/en/for_web3_user/tokens.html" class="sidebar-link">Tokens</a></li><li><a href="/docs/en/for_web3_user/gas-and-fees.html" class="sidebar-link">Gas and Fees</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Digital Wallets</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Account Keys</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Links</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>For Web3 Developer</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/en/for_web3_dev/quick_connect.html" class="sidebar-link">Quick Connect</a></li><li><a href="/docs/en/for_web3_dev/guides.html" class="sidebar-link">Guides</a></li><li><a href="/docs/en/for_web3_dev/metaos_client.html" class="sidebar-link">MetaOs Clients</a></li><li><a href="/docs/en/for_web3_dev/localnet.html" class="sidebar-link">LocalNet</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Ethereum Tooling</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>Ethereum JSON-RPC</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/en/for_web3_dev/json_server.html" class="sidebar-link">JSON-RPC Server</a></li><li><a href="/docs/en/for_web3_dev/running_server.html" class="sidebar-link">Running the Server</a></li><li><a href="/docs/en/for_web3_dev/namespace.html" class="sidebar-link">Namespaces</a></li><li><a href="/docs/en/for_web3_dev/jsonrpc_method.html" class="sidebar-link">JSON-RPC Methods</a></li><li><a href="/docs/en/for_web3_dev/event.html" aria-current="page" class="active sidebar-link">Events</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li><li><a href="/docs/en/for_web3_dev/wasm.html" class="sidebar-link">Smart Contract</a></li><li><a href="/docs/en/for_web3_dev/cosmos_grpc.html" class="sidebar-link">Cosmos gRPC &amp; REST API</a></li><li><a href="/docs/en/for_web3_dev/tendermint_rpc.html" class="sidebar-link">Tendermint RPC</a></li><li><a href="/docs/en/for_web3_dev/ts.html" class="sidebar-link">Typescript SDK</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Modules</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>For Validator&amp;Delegators</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/en/for_validator/overview.html" class="sidebar-link">Overview</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Installation &amp; Run a Node</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Validator Guide</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/docs/en/for_validator/disk_usage.html" class="sidebar-link">Disk Usage Optimization</a></li><li><a href="/docs/en/for_validator/snapshot.html" class="sidebar-link">Snapshot</a></li><li><a href="/docs/en/for_validator/faq.html" class="sidebar-link">Validator FAQ</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="events"><a href="#events" class="header-anchor">#</a> Events</h1> <p>Events are objects that contain information about the execution of the application. They are mainly used by service providers like block explorers and wallet to track the execution of various messages and index transactions.</p> <h3 id="subscribing-to-events"><a href="#subscribing-to-events" class="header-anchor">#</a> Subscribing to Events</h3> <h4 id="cosmos-and-tendermint-events"><a href="#cosmos-and-tendermint-events" class="header-anchor">#</a> Cosmos and Tendermint Events</h4> <p>It is possible to subscribe to <code>Events</code> via Tendermint's <a href="https://docs.tendermint.com/v0.34/tendermint-core/subscription.html" target="_blank" rel="noopener noreferrer">Websocket<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. This is done by calling the <code>subscribe</code> RPC method via Websocket:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
    <span class="token string">&quot;jsonrpc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2.0&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;method&quot;</span><span class="token operator">:</span> <span class="token string">&quot;subscribe&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;params&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;query&quot;</span><span class="token operator">:</span> <span class="token string">&quot;tm.event='&lt;event_value&gt;' AND eventType.eventAttribute='&lt;attribute_value&gt;'&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>These events are triggered after a block is committed. You can get the full list of <code>event</code> categories and values (here)[/en/for_web3_dev/metaos_client.html#list-of-tendermint-events].</p> <p>The type and attribute value of the query allow you to filter the specific event you are looking for. For example, a an Ethereum transaction on MetaOS (<code>MsgEthereumTx</code>) triggers an <code>event</code> of type <code>ethermint</code> and has <code>sender</code> and <code>recipient</code> as <code>attributes</code>. Subscribing to this event would be done like so:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
    <span class="token string">&quot;jsonrpc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2.0&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;method&quot;</span><span class="token operator">:</span> <span class="token string">&quot;subscribe&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;params&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;query&quot;</span><span class="token operator">:</span> <span class="token string">&quot;tm.event='Tx' AND ethereum.recipient='hexAddress'&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>where <code>hexAddress</code> is an Ethereum hex address (eg: <code>0x1122334455667788990011223344556677889900</code>).</p> <h4 id="ethereum-events"><a href="#ethereum-events" class="header-anchor">#</a> Ethereum Events</h4> <p>MetaOS also supports the Ethereum JSON-RPC filters calls to subscribe to <a href="https://eth.wiki/json-rpc/API#eth_newfilter" target="_blank" rel="noopener noreferrer">state logs<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="https://eth.wiki/json-rpc/API#eth_newblockfilter" target="_blank" rel="noopener noreferrer">blocks<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> or <a href="https://eth.wiki/json-rpc/API#eth_newpendingtransactionfilter" target="_blank" rel="noopener noreferrer">pending transactions<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> changes.</p> <p>Under the hood, it uses the Tendermint RPC client's event system to process subscriptions that are then formatted to Ethereum-compatible events.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -X POST --data <span class="token string">'{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;method&quot;:&quot;eth_newBlockFilter&quot;,&quot;params&quot;:[],&quot;id&quot;:1}'</span> -H <span class="token string">&quot;Content-Type: application/json&quot;</span> http://localhost:8545
<span class="token punctuation">{</span><span class="token string">&quot;jsonrpc&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;2.0&quot;</span>,<span class="token string">&quot;id&quot;</span>:1,<span class="token string">&quot;result&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;0x3503de5f0c766c68f78a03a3b05036a5&quot;</span><span class="token punctuation">}</span>
</code></pre></div><p>Then you can check if the state changes with the <a href="/docs/en/for_web3_dev/jsonrpc_method.html#eth-getfilterchanges">eth_getFilterChanges</a> call:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> -X POST --data <span class="token string">'{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;method&quot;:&quot;eth_getFilterChanges&quot;,&quot;params&quot;:[&quot;0x3503de5f0c766c68f78a03a3b05036a5&quot;],&quot;id&quot;:1}'</span> -H <span class="token string">&quot;Content-Type: application/json&quot;</span> http://localhost:8545
<span class="token punctuation">{</span><span class="token string">&quot;jsonrpc&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;2.0&quot;</span>,<span class="token string">&quot;id&quot;</span>:1,<span class="token string">&quot;result&quot;</span>:<span class="token punctuation">[</span><span class="token string">&quot;0x7d44dceff05d5963b5bc81df7e9f79b27e777b0a03a6feca09f3447b99c6fa71&quot;</span>,<span class="token string">&quot;0x3961e4050c27ce0145d375255b3cb829a5b4e795ac475c05a219b3733723d376&quot;</span>,<span class="token string">&quot;0xd7a497f95167d63e6feca70f344d9f6e843d097b62729b8f43bdcd5febf142ab&quot;</span>,<span class="token string">&quot;0x55d80a4ba6ef54f2a8c0b99589d017b810ed13a1fda6a111e1b87725bc8ceb0e&quot;</span>,<span class="token string">&quot;0x9e8b92c17280dd05f2562af6eea3285181c562ebf41fc758527d4c30364bcbc4&quot;</span>,<span class="token string">&quot;0x7353a4b9d6b35c9eafeccaf9722dd293c46ae2ffd4093b2367165c3620a0c7c9&quot;</span>,<span class="token string">&quot;0x026d91bda61c8789c59632c349b38fd7e7557e6b598b94879654a644cfa75f30&quot;</span>,<span class="token string">&quot;0x73e3245d4ddc3bba48fa67633f9993c6e11728a36401fa1206437f8be94ef1d3&quot;</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
</code></pre></div><h3 id="websocket-connection"><a href="#websocket-connection" class="header-anchor">#</a> Websocket Connection</h3> <h4 id="tendermint-websocket"><a href="#tendermint-websocket" class="header-anchor">#</a> Tendermint Websocket</h4> <p>To start a connection with the Tendermint websocket you need to define the address with the <code>--rpc.laddr</code> flag when starting the node (default <code>tcp://127.0.0.1:26657</code>):</p> <div class="language-bash extra-class"><pre class="language-bash"><code>metaosd start --rpc.laddr<span class="token operator">=</span><span class="token string">&quot;tcp://127.0.0.1:26657&quot;</span>
</code></pre></div><p>Then, start a websocket subscription with ws</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># connect to tendermint websocket at port 8080 as defined above</span>
ws ws://localhost:8080/websocket
<span class="token comment"># subscribe to new Tendermint block headers</span>
<span class="token operator">&gt;</span> <span class="token punctuation">{</span> <span class="token string">&quot;jsonrpc&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;2.0&quot;</span>, <span class="token string">&quot;method&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;subscribe&quot;</span>, <span class="token string">&quot;params&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token string">&quot;tm.event='NewBlockHeader'&quot;</span><span class="token punctuation">]</span>, <span class="token string">&quot;id&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1</span> <span class="token punctuation">}</span>
</code></pre></div><h4 id="ethereum-websocket"><a href="#ethereum-websocket" class="header-anchor">#</a> Ethereum Websocket</h4> <p>Since MetaOS runs uses Tendermint Core as it's consensus Engine and it's built with the Cosmos SDK framework,
it inherits the event format from them. However, in order to support the native Web3 compatibility for websockets of the <a href="https://geth.ethereum.org/docs/rpc/pubsub" target="_blank" rel="noopener noreferrer">Ethereum's PubSubAPI<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, MetaOS needs to cast the Tendermint responses retrieved into the Ethereum types.</p> <p>You can start a connection with the Ethereum websocket using the <code>--json-rpc.ws-address</code> flag when starting the node (default <code>&quot;0.0.0.0:8546&quot;</code>):</p> <div class="language-bash extra-class"><pre class="language-bash"><code>metaosd start  --json-rpc.address<span class="token string">&quot;0.0.0.0:8545&quot;</span> --json-rpc.ws-address<span class="token operator">=</span><span class="token string">&quot;0.0.0.0:8546&quot;</span> --evm.rpc.api<span class="token operator">=</span><span class="token string">&quot;eth,web3,net,txpool,debug&quot;</span> --json-rpc.enable
</code></pre></div><p>Then, start a websocket subscription with <a href="https://github.com/hashrocket/ws" target="_blank" rel="noopener noreferrer">ws<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># connect to tendermint websocet at port 8546 as defined above</span>
ws ws://localhost:8546/
<span class="token comment"># subscribe to new Ethereum-formatted block Headers</span>
<span class="token operator">&gt;</span> <span class="token punctuation">{</span><span class="token string">&quot;id&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1</span>, <span class="token string">&quot;method&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;eth_subscribe&quot;</span>, <span class="token string">&quot;params&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token string">&quot;newHeads&quot;</span>, <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
<span class="token operator">&lt;</span> <span class="token punctuation">{</span><span class="token string">&quot;jsonrpc&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;2.0&quot;</span>,<span class="token string">&quot;result&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;0x44e010cb2c3161e9c02207ff172166ef&quot;</span>,<span class="token string">&quot;id&quot;</span>:1<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/metaos-labs/docs/edit/main/docs/en/for_web3_dev/event.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/docs/en/for_web3_dev/jsonrpc_method.html" class="prev">
        JSON-RPC Methods
      </a></span> <span class="next"><a href="/docs/en/for_web3_dev/wasm.html">
        Smart Contract
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/docs/assets/js/app.8eec186a.js" defer></script><script src="/docs/assets/js/3.ef547447.js" defer></script><script src="/docs/assets/js/34.11971111.js" defer></script><script src="/docs/assets/js/4.543fae8f.js" defer></script>
  </body>
</html>
